const _0x5b59=['download-with-progress','errorStr','download-canceled','progressCallback','basename','callId','now','hostAPI','canceled','download-progress','download-succeeded','fileName','once','function','transferred','file-selected','type','sendToHost','undefined','electron','readFile','__esModule','random','toString','../../constant/namespace','ipcRenderer','default','download-failed','download','off','is-ready','url',':panel-win-state-changed','defineProperty','promises',':get-version','floor','new-msg','total','percent','select-file','__importDefault','succeeded'];(function(_0x85517e,_0x28ba41){const _0x5b5903=function(_0x1544b6){while(--_0x1544b6){_0x85517e['push'](_0x85517e['shift']());}};_0x5b5903(++_0x28ba41);}(_0x5b59,0x1c8));const _0x1544=function(_0x85517e,_0x28ba41){_0x85517e=_0x85517e-0xeb;let _0x5b5903=_0x5b59[_0x85517e];return _0x5b5903;};const _0x481b97=_0x1544;'use strict';var __importDefault=this&&this[_0x481b97(0xfa)]||function(_0x93ad69){const _0x505ef1=_0x481b97;return _0x93ad69&&_0x93ad69[_0x505ef1(0x111)]?_0x93ad69:{'default':_0x93ad69};};Object[_0x481b97(0xf2)](exports,'__esModule',{'value':!0x0});const fs_1=__importDefault(require('fs')),fsPromises=fs_1['default'][_0x481b97(0xf3)],path_1=__importDefault(require('path')),namespace_1=require(_0x481b97(0x114)),electron_1=require(_0x481b97(0x10f)),pluginVersion=electron_1['ipcRenderer']['sendSync'](namespace_1['ns']+_0x481b97(0xf4)),globalAny=global;let panelWinStateChangedListener=null;function uuid(){const _0x560ea3=_0x481b97;let _0x5e0395=Date[_0x560ea3(0x102)]();return _0x560ea3(0x10e)!=typeof performance&&_0x560ea3(0x109)==typeof performance[_0x560ea3(0x102)]&&(_0x5e0395+=performance[_0x560ea3(0x102)]()),'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'['replace'](/[xy]/g,function(_0x25fb34){const _0x4d99c0=_0x560ea3;var _0x19812c=(_0x5e0395+0x10*Math[_0x4d99c0(0x112)]())%0x10|0x0;return _0x5e0395=Math[_0x4d99c0(0xf5)](_0x5e0395/0x10),('x'===_0x25fb34?_0x19812c:0x3&_0x19812c|0x8)[_0x4d99c0(0x113)](0x10);});}electron_1['ipcRenderer']['on'](namespace_1['ns']+_0x481b97(0xf1),(_0x144e12,_0x518f95)=>{panelWinStateChangedListener&&panelWinStateChangedListener(_0x518f95);}),globalAny[_0x481b97(0x103)]={'imPluginVersion':pluginVersion,'getData':async()=>new Promise(_0x442a6d=>{const _0x233b52=_0x481b97;electron_1[_0x233b52(0x115)][_0x233b52(0x108)]('get-data',function(_0x170344,_0x18a0c7){_0x442a6d(_0x18a0c7);}),electron_1[_0x233b52(0x115)][_0x233b52(0x10d)]('request-data');}),'sendToHost':(_0x15ce9c,_0x404afb)=>{const _0x45ff2f=_0x481b97;_0x45ff2f(0xf6)===_0x15ce9c?electron_1['ipcRenderer']['sendToHost'](_0x45ff2f(0xf6),{'newMsgCount':_0x404afb}):_0x45ff2f(0xed)===_0x15ce9c&&electron_1[_0x45ff2f(0x115)][_0x45ff2f(0x10d)](_0x45ff2f(0xed),{'url':_0x404afb[_0x45ff2f(0xf0)],'type':_0x404afb['type'],'fileName':_0x404afb['fileName']});},'isReady'(_0x1deb34){const _0x2cd7ce=_0x481b97;electron_1[_0x2cd7ce(0x115)][_0x2cd7ce(0x10d)](_0x2cd7ce(0xef),_0x1deb34);},'setWindowListener'(_0xcd60eb){panelWinStateChangedListener=_0xcd60eb;},'selectFile':async _0x1d0092=>new Promise((_0x1db0d3,_0x5d8c9f)=>{const _0x38fb64=_0x481b97;electron_1[_0x38fb64(0x115)][_0x38fb64(0x108)](_0x38fb64(0x10b),function(_0x8f2f24,_0x505ab0){_0x505ab0?async function(_0x3c4602){const _0x389a06=_0x1544,_0x59273c=path_1[_0x389a06(0xeb)][_0x389a06(0x100)](_0x3c4602),_0x46ed4e=await fsPromises[_0x389a06(0x110)](_0x3c4602);return new File([_0x46ed4e],_0x59273c);}(_0x505ab0)['then'](_0x1db0d3):_0x1db0d3('');}),electron_1[_0x38fb64(0x115)][_0x38fb64(0x10d)](_0x38fb64(0xf9),{'type':_0x1d0092});}),'downloadWithProgress':async _0x519781=>new Promise((_0x25b2c9,_0x4f002b)=>{const _0x517410=_0x481b97,_0x1b75de=uuid();function _0x2a9afb(_0x1e016a,_0x3df7f1){const _0x19d648=_0x1544;_0x3df7f1[_0x19d648(0x101)]===_0x1b75de&&(0x1==_0x3df7f1[_0x19d648(0xf8)]&&_0x3df7f1['transferred']!==_0x3df7f1[_0x19d648(0xf7)]||_0x519781[_0x19d648(0xff)]&&_0x519781[_0x19d648(0xff)]({'percent':_0x3df7f1['percent'],'transferred':_0x3df7f1[_0x19d648(0x10a)],'total':_0x3df7f1[_0x19d648(0xf7)]}));}function _0x13034e(_0x16bf87,_0x5718ed){const _0x200db5=_0x1544;_0x5718ed===_0x1b75de&&_0x2a4fa1({'status':_0x200db5(0xfb)});}function _0x39e04a(_0x2db54f,_0x14a398){const _0x18e60c=_0x1544;_0x14a398[_0x18e60c(0x101)]===_0x1b75de&&_0x2a4fa1({'status':'failed','errorStr':_0x14a398[_0x18e60c(0xfd)]});}function _0x55a110(_0x49b279,_0x522cbb){const _0x2b0eca=_0x1544;_0x522cbb===_0x1b75de&&_0x2a4fa1({'status':_0x2b0eca(0x104)});}function _0x2a4fa1(_0x4cca78){const _0x3737ae=_0x1544;_0x25b2c9(_0x4cca78),electron_1[_0x3737ae(0x115)]['off'](_0x3737ae(0x105),_0x2a9afb),electron_1[_0x3737ae(0x115)][_0x3737ae(0xee)](_0x3737ae(0x106),_0x13034e),electron_1[_0x3737ae(0x115)][_0x3737ae(0xee)](_0x3737ae(0xec),_0x39e04a),electron_1[_0x3737ae(0x115)][_0x3737ae(0xee)](_0x3737ae(0xfe),_0x55a110);}electron_1[_0x517410(0x115)][_0x517410(0x10d)](_0x517410(0xfc),{'url':_0x519781[_0x517410(0xf0)],'type':_0x519781[_0x517410(0x10c)],'fileName':_0x519781[_0x517410(0x107)],'callId':_0x1b75de}),electron_1[_0x517410(0x115)]['on'](_0x517410(0x105),_0x2a9afb),electron_1['ipcRenderer']['on'](_0x517410(0x106),_0x13034e),electron_1[_0x517410(0x115)]['on'](_0x517410(0xec),_0x39e04a),electron_1[_0x517410(0x115)]['on'](_0x517410(0xfe),_0x55a110);})};