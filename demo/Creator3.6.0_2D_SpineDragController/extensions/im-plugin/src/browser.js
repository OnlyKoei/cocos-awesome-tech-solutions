const _0x879a=['city','[Im-plugin]\x20Im-plugin\x20online\x20version\x20is\x20error,\x20','__setModuleDefault','extensions','getConfig','path','pipe','prototype','User','success','import-package','catch','fromWebContents','hostname','paths','request-progress','im-plugin:check','getRedirectUrl','sender','[im-plugin]\x20Current\x20version\x20is\x20','platform','download-url','public-ip','push','-error','removeListener','extension','reload','code','./common-lib/update-toolbar','./constant/namespace','log','getDate','Project','getLanguage','[Im-plugin]\x20Download\x20im-plugin\x20zip.','[Im-plugin]\x20Check\x20im-plugin\x20version.','tmpdir','compare-versions','open','show','then','getData','ensureDir','onClosePanel','init','[Im-plugin]\x20No\x20online\x20info\x20of\x20im-plugin.','[Im-plugin]\x20Im-plugin\x20online\x20version\x20has\x20something\x20wrong,\x20don\x27t\x20update.','updateToolbar','Update','queryIPList','unload','[Im-plugin]\x20Remove\x20Succeed.','im-plugin','[Im-plugin]\x20Remove\x20your\x20old\x20im-plugin\x20to\x20','[Im-plugin]\x20Unzip\x20installation\x20failed\x20.','close','sumErrorTime','progreass','[Im-plugin]\x20The\x20editor\x20does\x20not\x20support\x20automatic\x20updates\x20of\x20versions\x20below\x203.3.1.If\x20im-plugin\x20has\x20new\x20version,\x20you\x20need\x20to\x20download\x20it\x20manually\x20from\x20the\x20store.','plugin','call','create','province','returnValue','arch','default','lastErrorTime','getTimezoneOffset','_waitClosedMain','[Im-plugin]\x20Im-plugin\x20zip\x20exists.','enable','has','home','split',':hide-panel','toUTCString','3.3.1','Network','request','methods','electron','Profile','global','__importDefault','error','broadcast','\x20failed.','App','[Im-plugin]\x20The\x20number\x20of\x20errors\x20reached\x20online\x20on\x20the\x20day,\x205\x20times.','join','./main-lib/service','firstErrorTime','__createBinding','Package','@base/electron-windows','message','data','dashboard','plugin_url','setConfig','getTime','onShowPanel',':get-version','./main-lib/http-utils','remove','cocos_uid','Message','im-plugin.zip','fs-extra','Panel','onHidePanel','__esModule','createWriteStream','assign','country','defineProperty','[Im-plugin]\x20Go\x20back\x20to\x20old\x20version.','dirname','getPackages','[Im-plugin]\x20Go\x20back\x20ok.','im-plugin.IgnoreImVersion','[Im-plugin]\x20Update\x20','I18n','load','copy','plugin_version','http://k.cocosgame.net:58511','ipcMain','getImSetting','BrowserWindow','nickname','version','secretary','env','im-plugin.callback','[Im-plugin]\x20Im-plugin\x20online\x20version\x20is\x20','getFullYear','hide','getInstance'];(function(_0x717aa1,_0x26f076){const _0x879a96=function(_0x397aa7){while(--_0x397aa7){_0x717aa1['push'](_0x717aa1['shift']());}};_0x879a96(++_0x26f076);}(_0x879a,0x1d7));const _0x397a=function(_0x717aa1,_0x26f076){_0x717aa1=_0x717aa1-0xb8;let _0x879a96=_0x879a[_0x717aa1];return _0x879a96;};const _0x468768=_0x397a;'use strict';var __createBinding=this&&this[_0x468768(0xe2)]||(Object[_0x468768(0xc3)]?function(_0x20b8de,_0x3a9ff2,_0x5446a3,_0x6ea5d7){const _0x5b5aed=_0x468768;void 0x0===_0x6ea5d7&&(_0x6ea5d7=_0x5446a3),Object[_0x5b5aed(0xf9)](_0x20b8de,_0x6ea5d7,{'enumerable':!0x0,'get':function(){return _0x3a9ff2[_0x5446a3];}});}:function(_0x2aa7e6,_0x575f3a,_0x79a82d,_0x11d849){void 0x0===_0x11d849&&(_0x11d849=_0x79a82d),_0x2aa7e6[_0x11d849]=_0x575f3a[_0x79a82d];}),__setModuleDefault=this&&this[_0x468768(0x113)]||(Object[_0x468768(0xc3)]?function(_0x2c8d3d,_0x50e10c){const _0x176880=_0x468768;Object[_0x176880(0xf9)](_0x2c8d3d,_0x176880(0xc7),{'enumerable':!0x0,'value':_0x50e10c});}:function(_0x16cabe,_0x566be1){const _0x1966f6=_0x468768;_0x16cabe[_0x1966f6(0xc7)]=_0x566be1;}),__importStar=this&&this['__importStar']||function(_0x499f8c){const _0x34ade8=_0x468768;if(_0x499f8c&&_0x499f8c['__esModule'])return _0x499f8c;var _0x4b95d1={};if(null!=_0x499f8c)for(var _0x3c9092 in _0x499f8c)'default'!==_0x3c9092&&Object[_0x34ade8(0x118)]['hasOwnProperty'][_0x34ade8(0xc2)](_0x499f8c,_0x3c9092)&&__createBinding(_0x4b95d1,_0x499f8c,_0x3c9092);return __setModuleDefault(_0x4b95d1,_0x499f8c),_0x4b95d1;},__importDefault=this&&this[_0x468768(0xd9)]||function(_0x2ae124){return _0x2ae124&&_0x2ae124['__esModule']?_0x2ae124:{'default':_0x2ae124};};Object[_0x468768(0xf9)](exports,_0x468768(0xf5),{'value':!0x0}),exports[_0x468768(0xb8)]=exports[_0x468768(0x101)]=exports[_0x468768(0xd5)]=void 0x0;const os_1=__importDefault(require('os')),path_1=__importStar(require(_0x468768(0x116))),compare_versions_1=__importDefault(require(_0x468768(0x137))),electron_1=require(_0x468768(0xd6)),service_1=__importDefault(require(_0x468768(0xe0))),namespace_1=require(_0x468768(0x12f)),update_toolbar_1=require(_0x468768(0x12e)),controller_1=__importDefault(require('./main-lib/controller')),fs_1=require('fs'),http_utils_1=require(_0x468768(0xed)),requestProgress=require(_0x468768(0x120)),request=require(_0x468768(0xd4));module[_0x468768(0x11f)][_0x468768(0x128)](path_1['default'][_0x468768(0xdf)](Editor[_0x468768(0xdd)][_0x468768(0x116)],'./node_modules'));const windows=require(_0x468768(0xe4)),fse=require(_0x468768(0xf2)),publicIpApi=require(_0x468768(0x127)),controller=controller_1[_0x468768(0xc7)][_0x468768(0x110)]();let panelWin=null;const reportOptions={'url':_0x468768(0x104),'method':'POST','json':!0x0};function _ip2int(_0x41802a){const _0x51ce5a=_0x468768;let _0x23e742=0x0;return _0x41802a=_0x41802a[_0x51ce5a(0xcf)]('.'),_0x23e742=0x100*Number(_0x41802a[0x0])*0x100*0x100+0x100*Number(_0x41802a[0x1])*0x100+0x100*Number(_0x41802a[0x2])+Number(_0x41802a[0x3]),_0x23e742>>>=0x0,_0x23e742;}async function commonFields(){const _0x1caf2c=_0x468768;var _0x4e848f,_0x35f499,_0x1d5489,_0x1b3b60;let _0x4b390d='',_0x3eee54='',_0x43ed6a='',_0xbdb9d6='',_0x5d33e9='',_0x2f1422='';try{if(_0x4b390d=await publicIpApi['v4'](),_0x4b390d){const _0x240192=await http_utils_1['postData']('https://im.cocos.com/welcome/query',{'ip':_0x4b390d});_0x1caf2c(0x11a)==(null==_0x240192?void 0x0:_0x240192[_0x1caf2c(0x12d)])&&(_0x3eee54=null===(_0x4e848f=null==_0x240192?void 0x0:_0x240192[_0x1caf2c(0xe6)])||void 0x0===_0x4e848f?void 0x0:_0x4e848f[_0x1caf2c(0x111)],_0x43ed6a=null===(_0x35f499=null==_0x240192?void 0x0:_0x240192['data'])||void 0x0===_0x35f499?void 0x0:_0x35f499[_0x1caf2c(0xf8)],_0xbdb9d6=null===(_0x1d5489=null==_0x240192?void 0x0:_0x240192[_0x1caf2c(0xe6)])||void 0x0===_0x1d5489?void 0x0:_0x1d5489[_0x1caf2c(0xc4)],_0x2f1422=null===(_0x1b3b60=null==_0x240192?void 0x0:_0x240192[_0x1caf2c(0xe6)])||void 0x0===_0x1b3b60?void 0x0:_0x1b3b60['district'],_0x5d33e9=_0x43ed6a+'-'+_0xbdb9d6+'-'+_0x3eee54);}}catch(_0x257d6d){_0x4b390d='';}const _0x3cf2c3=process[_0x1caf2c(0x10b)],_0xfd7c00=new Date()[_0x1caf2c(0xd1)](),_0x259dd8=_0x3cf2c3[_0x1caf2c(0xe7)],_0x19d966=await Editor[_0x1caf2c(0xdd)][_0x1caf2c(0x109)],_0x340cc7=await Editor[_0x1caf2c(0x100)][_0x1caf2c(0x133)](),_0x55fe9b=await Editor[_0x1caf2c(0x119)][_0x1caf2c(0x13b)]();return{'appType':_0x1caf2c(0x10a),'time':_0xfd7c00,'dashBoardVersion':_0x259dd8,'creatorVersion':_0x19d966,'city':_0x3eee54,'country':_0x43ed6a,'district':_0x2f1422,'province':_0xbdb9d6,'address':_0x5d33e9,'locate':_0x340cc7,'userData':_0x55fe9b,'nickName':_0x55fe9b[_0x1caf2c(0x108)],'email':_0x55fe9b['email'],'cocos_uid':_0x55fe9b[_0x1caf2c(0xef)],'ips':await Editor[_0x1caf2c(0xd3)][_0x1caf2c(0x143)](),'osType':os_1[_0x1caf2c(0xc7)]['type'](),'osPlatform':os_1[_0x1caf2c(0xc7)][_0x1caf2c(0x125)](),'osHostname':os_1[_0x1caf2c(0xc7)][_0x1caf2c(0x11e)](),'osTmpdir':os_1[_0x1caf2c(0xc7)][_0x1caf2c(0x136)](),'publicIp':_0x4b390d,'osArch':os_1['default'][_0x1caf2c(0xc6)](),'currentPjName':Editor[_0x1caf2c(0x132)]['name']};}async function reportInformation(){const _0x4ced50=_0x468768,_0x56d721=new Date()[_0x4ced50(0xc9)]()/0x3c,_0x229249=getVersion(),{time:_0x2cb04e,dashBoardVersion:_0x33db94,creatorVersion:_0x52cb92,locate:_0x4b63be,userData:_0x59304f,city:_0x3e42db,country:_0x520749,district:_0x2a5a82,province:_0x5e9ae1,address:_0x4879e0,nickName:_0x356bba,email:_0x5cc072,cocos_uid:_0x2d7dc9,ips:_0x32a234,osType:_0x545272,osPlatform:_0xe8596,osHostname:_0x15b3df,osTmpdir:_0x220196,appType:_0x488cc0,osArch:_0x5a0c6e,publicIp:_0x10fc61,currentPjName:_0x3d55e4}=await commonFields(),_0x1d7744={'timeZone':_0x56d721,'time':_0x2cb04e,'dashBoardVersion':_0x33db94,'creatorVersion':_0x52cb92,'pluginVersion':_0x229249,'district':_0x2a5a82,'locate':_0x4b63be,'userData':_0x59304f,'nickName':_0x356bba,'email':_0x5cc072,'cocos_uid':_0x2d7dc9,'ips':_0x32a234,'osType':_0x545272,'osPlatform':_0xe8596,'osHostname':_0x15b3df,'osTmpdir':_0x220196,'appType':_0x488cc0,'osArch':_0x5a0c6e,'publicIp':_0x10fc61,'city':_0x3e42db,'country':_0x520749,'province':_0x5e9ae1,'address':_0x4879e0,'currentPjName':_0x3d55e4,'entryType':_0x4ced50(0xc1),'reportType':'Start'};request(Object[_0x4ced50(0xf7)]({},reportOptions,{'body':_0x1d7744}),()=>{});}async function updateReportInformation(_0x27d56d,_0x100dfa,_0x4762bc,_0x14e410){const _0x196a79=_0x468768,{time:_0x3e185c,dashBoardVersion:_0x3a42b8,creatorVersion:_0x1a84bf,locate:_0x5b30cb,userData:_0x5b1c07,nickName:_0x2fe006,city:_0x3851cf,country:_0x404223,province:_0x36784e,address:_0x129d91,email:_0x5acc4a,appType:_0x1de0fb,cocos_uid:_0x3b19d8,ips:_0x4c492a,district:_0x981d3f,osType:_0x385d54,osPlatform:_0x1fd974,osHostname:_0x6fd4b3,publicIp:_0x468f76,osTmpdir:_0xb6be9c,osArch:_0x586f3e,currentPjName:_0x116c00}=await commonFields(),_0x16fa14={'time':_0x3e185c,'preVersion':_0x27d56d,'newVersion':_0x100dfa,'updateStatus':_0x4762bc,'dashBoardVersion':_0x3a42b8,'creatorVersion':_0x1a84bf,'publicIp':_0x468f76,'district':_0x981d3f,'locate':_0x5b30cb,'city':_0x3851cf,'country':_0x404223,'province':_0x36784e,'address':_0x129d91,'userData':_0x5b1c07,'nickName':_0x2fe006,'email':_0x5acc4a,'cocos_uid':_0x3b19d8,'appType':_0x1de0fb,'ips':_0x4c492a,'osType':_0x385d54,'osPlatform':_0x1fd974,'osHostname':_0x6fd4b3,'osTmpdir':_0xb6be9c,'osArch':_0x586f3e,'currentPjName':_0x116c00,'reportType':_0x196a79(0x142)};_0x14e410&&Object[_0x196a79(0xf7)](_0x16fa14,{'errorName':_0x14e410['name'],'errorMessage':_0x14e410[_0x196a79(0xe5)]}),request(Object[_0x196a79(0xf7)]({},reportOptions,{'body':_0x16fa14}),()=>{});}function load(){const _0x3bbbdc=_0x468768;electron_1[_0x3bbbdc(0x105)]['on'](namespace_1['ns']+_0x3bbbdc(0xd0),hidePanel),electron_1[_0x3bbbdc(0x105)]['on'](namespace_1['ns']+_0x3bbbdc(0xec),getVersion_),controller[_0x3bbbdc(0x13e)](),isVersionMore331()&&silentCheckAndUpdate(),setTimeout(()=>{reportInformation();},0x3e8);}function unload(){const _0x5e9d64=_0x468768;electron_1[_0x5e9d64(0x105)]['removeListener'](namespace_1['ns']+':hide-panel',hidePanel),electron_1[_0x5e9d64(0x105)][_0x5e9d64(0x12a)](namespace_1['ns']+_0x5e9d64(0xec),getVersion_),controller['uninit']();}exports[_0x468768(0x101)]=load,exports[_0x468768(0xb8)]=unload;let savedInfo=null;const downloadZip=async(_0x1e944b,_0x5259d3)=>{const _0xdff959=_0x468768;await fse[_0xdff959(0x13c)](path_1[_0xdff959(0xfb)](_0x5259d3)),await new Promise((_0x517d0f,_0x4bb9b3)=>{const _0x3aece7=_0xdff959;requestProgress(request(_0x1e944b),{'delay':0x12c})['on'](_0x3aece7(0xbf),function(_0x239081){})['on'](_0x3aece7(0xda),function(_0x4698b7){_0x4bb9b3(_0x4698b7);})['on']('end',function(_0xd8ed88,_0x525bc4){_0x517d0f(null);})[_0x3aece7(0x117)](fs_1[_0x3aece7(0xf6)](_0x5259d3));});},formatVersion=_0x3a9fa8=>_0x3a9fa8['replace'](/\./g,'-'),isVersionMore331=()=>{const _0x4d2316=_0x468768,_0x9f08e2=Editor[_0x4d2316(0xdd)]['version'];return compare_versions_1['default'](_0x9f08e2,_0x4d2316(0xd2))<=0x0?(console['warn'](_0x4d2316(0xc0)),!0x1):!(compare_versions_1[_0x4d2316(0xc7)](_0x9f08e2,'3.7.0')>=0x0);},silentCheck=async()=>{const _0x12e9a2=_0x468768;if(console['log'](_0x12e9a2(0x135)),!isVersionMore331())return;const _0x217f73=await service_1['default'][_0x12e9a2(0x110)](),_0x589a50=await _0x217f73[_0x12e9a2(0x106)]();if(!_0x589a50||!_0x589a50[_0x12e9a2(0x103)]||!_0x589a50[_0x12e9a2(0xe8)])return void console[_0x12e9a2(0x130)](_0x12e9a2(0x13f));const _0xa28cfd=_0x589a50[_0x12e9a2(0x103)];if(!0x0===await Editor[_0x12e9a2(0xd7)][_0x12e9a2(0x115)](_0x12e9a2(0xfe),formatVersion(_0xa28cfd),'global'))return void console[_0x12e9a2(0x130)](_0x12e9a2(0x140));const _0x42cf6e=await Editor[_0x12e9a2(0xd7)]['getConfig'](_0x12e9a2(0xfe),_0x12e9a2(0xc8),_0x12e9a2(0xd8));if(new Date()['getTime']()-_0x42cf6e<0x927c0)return;const _0x388602=getCurrentErrorTime(),_0x27dc8e=await Editor['Profile'][_0x12e9a2(0x115)]('im-plugin.IgnoreImVersion',_0x388602,_0x12e9a2(0xd8));if(parseInt(_0x27dc8e)<=0x0)return void console[_0x12e9a2(0x130)](_0x12e9a2(0xde));if(!compare_versions_1[_0x12e9a2(0xc7)]['validate'](_0xa28cfd))return void console[_0x12e9a2(0x130)](_0x12e9a2(0x112)+_0xa28cfd+'.');console[_0x12e9a2(0x130)](_0x12e9a2(0x10d)+_0xa28cfd+'.');const _0x2b70bf=getVersion();if(console[_0x12e9a2(0x130)]('[Im-plugin]\x20Im-plugin\x20local\x20version\x20is\x20'+_0x2b70bf+'.'),!(compare_versions_1[_0x12e9a2(0xc7)](_0xa28cfd,_0x2b70bf)<=0x0))return{'imSetting':_0x589a50,'newVersion':_0xa28cfd,'curVersion':_0x2b70bf};console[_0x12e9a2(0x130)]('[Im-plugin]\x20Im-plugin\x20need\x20not\x20update.');},unZipAndInstall=async(_0x3e2f40,_0x510836)=>await new Promise(async _0x2a68af=>{const _0x1eed0b=_0x468768;await Editor[_0x1eed0b(0xf0)][_0x1eed0b(0xd4)](_0x1eed0b(0x12b),_0x1eed0b(0x11b),_0x1eed0b(0xd8),_0x3e2f40,{'forceImport':!0x0})[_0x1eed0b(0x13a)](async()=>{const _0x5449c9=_0x1eed0b;await fse[_0x5449c9(0xee)](_0x3e2f40),await Editor[_0x5449c9(0xf0)][_0x5449c9(0xd4)](_0x5449c9(0x12b),_0x5449c9(0xcc),_0x510836,!0x0),_0x2a68af(!0x0);})[_0x1eed0b(0x11c)](()=>{_0x2a68af(!0x1);});}),getCurrentErrorTime=()=>{const _0x4f42d0=_0x468768,_0x3e64e2=new Date();return _0x3e64e2[_0x4f42d0(0x10e)]()+'-'+(_0x3e64e2['getMonth']()+0x1)+'-'+_0x3e64e2[_0x4f42d0(0x131)]()+_0x4f42d0(0x129);},silentCheckAndUpdate=async()=>{const _0x523fab=_0x468768,_0x59001c=await silentCheck();if(!_0x59001c)return;const {imSetting:_0xf217a7,newVersion:_0x4fcfa0,curVersion:_0x19959f}=_0x59001c,_0x6a8dd4=path_1[_0x523fab(0xdf)](Editor['App']['home'],'extension-callback',_0x523fab(0x10c));await fse[_0x523fab(0x13c)](_0x6a8dd4),console[_0x523fab(0x130)](_0x523fab(0xbb)+_0x6a8dd4);let _0xbf7255=path_1[_0x523fab(0xdf)](Editor[_0x523fab(0xdd)][_0x523fab(0xce)],_0x523fab(0x114),_0x523fab(0xba)),_0x14ea38=await Editor[_0x523fab(0xe3)][_0x523fab(0xfc)]({'name':_0x523fab(0xba),'enable':!0x0});_0x14ea38[0x0]&&(_0xbf7255=_0x14ea38[0x0][_0x523fab(0x116)]);const _0x4e5f2=path_1[_0x523fab(0xdf)](Editor[_0x523fab(0xdd)]['home'],_0x523fab(0x114),'im-plugin'),_0x23357b=path_1[_0x523fab(0xdf)](Editor['App'][_0x523fab(0xce)],'download',_0x523fab(0xf1));try{await fse[_0x523fab(0x102)](_0xbf7255,_0x6a8dd4)[_0x523fab(0x13a)](async()=>{const _0x3763c1=_0x523fab;console[_0x3763c1(0x130)](_0x3763c1(0xb9));let _0x31c892=!0x0;if(await Editor[_0x3763c1(0xd7)][_0x3763c1(0x115)]('im-plugin.IgnoreImVersion',_0x3763c1(0x126),_0x3763c1(0xd8))===_0xf217a7[_0x3763c1(0xe8)])try{await fse['realpath'](_0x23357b),console[_0x3763c1(0x130)](_0x3763c1(0xcb)),_0x31c892=!0x1;}catch(_0x5c91c6){_0x31c892=!0x0;}if(await Editor[_0x3763c1(0xd7)][_0x3763c1(0xe9)](_0x3763c1(0xfe),_0x3763c1(0x126),_0xf217a7[_0x3763c1(0xe8)],'global'),_0x31c892&&(console[_0x3763c1(0x130)](_0x3763c1(0x134)),await downloadZip(_0xf217a7['plugin_url'],_0x23357b)),await Editor[_0x3763c1(0xf3)][_0x3763c1(0xcd)]('default'))return void console['log']('[Im-plugin]\x20You\x20need\x20to\x20update\x20in\x20panel\x20due\x20to\x20you\x20opening\x20it.');if(!await unZipAndInstall(_0x23357b,_0x4e5f2))throw new Error(_0x3763c1(0xbc));updateReportInformation(_0x19959f,_0x4fcfa0,!0x0,null);});}catch(_0x57bf12){updateReportInformation(_0x19959f,_0x4fcfa0,!0x1,_0x57bf12),console['error'](_0x523fab(0xff)+_0x4fcfa0+_0x523fab(0xdc));const _0x246f58=await Editor[_0x523fab(0xd7)][_0x523fab(0x115)]('im-plugin.IgnoreImVersion',_0x523fab(0xe1),_0x523fab(0xd8));await Editor[_0x523fab(0xd7)][_0x523fab(0xe9)](_0x523fab(0xfe),_0x523fab(0xc8),new Date()[_0x523fab(0xea)](),'global'),_0x246f58||await Editor[_0x523fab(0xd7)]['setConfig']('im-plugin.IgnoreImVersion',_0x523fab(0xe1),new Date()['getTime'](),_0x523fab(0xd8));const _0x57be56=getCurrentErrorTime(),_0x669ec1=await Editor[_0x523fab(0xd7)][_0x523fab(0x115)]('im-plugin.IgnoreImVersion',_0x57be56,_0x523fab(0xd8));_0x669ec1?await Editor['Profile']['setConfig']('im-plugin.IgnoreImVersion',_0x57be56,_0x669ec1-0x1,_0x523fab(0xd8)):await Editor[_0x523fab(0xd7)][_0x523fab(0xe9)](_0x523fab(0xfe),_0x57be56,0x4,'global');const _0x4a42d6=await Editor[_0x523fab(0xd7)][_0x523fab(0x115)](_0x523fab(0xfe),'sumErrorTime',_0x523fab(0xd8));_0x4a42d6?await Editor[_0x523fab(0xd7)][_0x523fab(0xe9)](_0x523fab(0xfe),_0x523fab(0xbe),_0x4a42d6+0x1,_0x523fab(0xd8)):await Editor['Profile'][_0x523fab(0xe9)]('im-plugin.IgnoreImVersion',_0x523fab(0xbe),0x1,_0x523fab(0xd8));const _0x25bb63=new Date()[_0x523fab(0xea)]()-_0x246f58>=0x9a7ec800;(_0x4a42d6>=0xf||_0x25bb63)&&await Editor[_0x523fab(0xd7)][_0x523fab(0xe9)](_0x523fab(0xfe),formatVersion(_0x4fcfa0),!0x0,_0x523fab(0xd8)),console['log'](_0x523fab(0xfa)+_0x19959f),await fse[_0x523fab(0x102)](_0x6a8dd4,_0xbf7255)['then'](async()=>{const _0x4b96f6=_0x523fab;console[_0x4b96f6(0x130)](_0x4b96f6(0xfd)),await Editor[_0x4b96f6(0xf0)][_0x4b96f6(0xd4)]('extension',_0x4b96f6(0x12c),_0xbf7255)['then'](()=>{const _0x198ca9=_0x4b96f6;fse[_0x198ca9(0xee)](_0x6a8dd4),fse['remove'](_0x23357b),console[_0x198ca9(0x130)]('[Im-plugin]\x20Remove\x20callback\x20folder.');});});}},methods={'showPanel'(){const _0x1cd2b5=_0x468768;console['log'](_0x1cd2b5(0x124)+getVersion()),panelWin?(panelWin[_0x1cd2b5(0x139)](),isVersionMore331()&&Editor[_0x1cd2b5(0xf0)][_0x1cd2b5(0xdb)](_0x1cd2b5(0x121)),panelWin=null):Editor[_0x1cd2b5(0xf3)][_0x1cd2b5(0x138)](namespace_1['ns']),controller[_0x1cd2b5(0xeb)]();},'silentCheckAndUpdate':silentCheckAndUpdate,'silentCheck':silentCheck,'unZipAndInstall':unZipAndInstall,'closePanel'(){const _0x289a9a=_0x468768;Editor[_0x289a9a(0xf3)][_0x289a9a(0xbd)](namespace_1['ns']),panelWin=null,controller[_0x289a9a(0x13d)]();},'whetherClose':()=>windows[_0x468768(0xca)],'getSignInUrl':async()=>(await service_1[_0x468768(0xc7)]['getInstance']())['getSignInUrl'](),'getRedirectUrl':async _0x355832=>(await service_1[_0x468768(0xc7)][_0x468768(0x110)]())[_0x468768(0x122)](_0x355832),'updateToolbarMain'(_0x27f2e0,_0x11000c){const _0x4f5c29=_0x468768;update_toolbar_1[_0x4f5c29(0x141)](_0x27f2e0,_0x11000c);},'saveToolbarInfo'(_0x1f7749){savedInfo=_0x1f7749;},'getSavedToolbarInfo':()=>savedInfo};function hidePanel(_0x3700f8){const _0x5af006=_0x468768;panelWin=electron_1[_0x5af006(0x107)][_0x5af006(0x11d)](_0x3700f8[_0x5af006(0x123)]),panelWin?(panelWin[_0x5af006(0x10f)](),controller[_0x5af006(0xf4)]()):console['error']('cannot\x20hide\x20panel,\x20panelWin\x20is\x20undefined');}function getVersion_(_0x4ad518){const _0xfb1fe9=_0x468768;_0x4ad518[_0xfb1fe9(0xc5)]=getVersion();}function getVersion(){const _0x4799c8=_0x468768;return Editor[_0x4799c8(0xe3)][_0x4799c8(0xfc)]({'name':namespace_1['ns'],'enable':!0x0})[0x0][_0x4799c8(0x109)];}exports[_0x468768(0xd5)]=methods;